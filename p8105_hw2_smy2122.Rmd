---
title: "Homework 2"
author: "Sarah Younes"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

As always, I will begin by loading the tidyverse.

```{r tidyverse, message = FALSE}
library(tidyverse)
```

# Problem 1

First, I will clean the data in pols-month.csv.

```{r pols_month_df}
pols_month_df =
  read.csv("Data/pols-month.csv") |>
  separate(mon, into = c("year", "month", "day"), sep = "-") |>
  mutate(
     month = rename(month, month == "01", "Jan"),
     month = rename(month, month == "02", "Feb"),
     month = rename(month, month == "03", "Mar"),
     month = rename(month, month == "04", "Apr"),
     month = rename(month, month == "05", "May"),
     month = rename(month, month == "06", "Jun"),
     month = rename(month, month == "07", "Jul"),
     month = rename(month, month == "08", "Aug"),
     month = rename(month, month == "09", "Sep"),
     month = rename(month, month == "10", "Oct"),
     month = rename(month, month == "11", "Nov"),
     month = rename(month, month == "12", "Dec")
  ) |>
  mutate(
    president = recode(prez_gop, "0" = "dem", "1" = "gop", "2" = "gop")) |>
  select(year, month, everything(), -day, -starts_with("prez"))
```
    
Second, I will clean the data in snp.csv.

```{r snp_df}
snp_df =
  read.csv("Data/snp.csv") |>
  separate(date, into = c("month", "day", "year"), sep = "/") |>
  mutate(
     month = rename(month, month == "1", "Jan"),
     month = rename(month, month == "2", "Feb"),
     month = rename(month, month == "3", "Mar"),
     month = rename(month, month == "4", "Apr"),
     month = rename(month, month == "5", "May"),
     month = rename(month, month == "6", "Jun"),
     month = rename(month, month == "7", "Jul"),
     month = rename(month, month == "8", "Aug"),
     month = rename(month, month == "9", "Sep"),
     month = rename(month, month == "10", "Oct"),
     month = rename(month, month == "11", "Nov"),
     month = rename(month, month == "12", "Dec")
  ) |>
  select(year, month, close)
```
   
Third, I will tidy the data in unemployment.csv.

```{r unemployment_df}
unemployment_df =
  read.csv("Data/unemployment.csv") |>
  rename(year = Year) |>
  pivot_longer(
    Jan:Dec,
    names_to = "month",
    values_to = "unemployment"
  ) |>
  mutate(month = str_to_title(month))
```

Now, I will join the three datasets into a single data frame.

# Problem 2

First, I will load the `readxl` package and import and clean the Mr. Trash Wheel dataset.

```{r mr_trash_wheel_df}

library(readxl)

mr_trash_wheel_df =
  read_excel("Data/202207 Trash Wheel Collection Data.xlsx",
    sheet = 1,
    range = "A2:M549",
    na = "",
    col_types = c("numeric", "text", "numeric", "date", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric")
    ) |>
  janitor::clean_names() |>
  rename(weight = weight_tons, volume = volume_cubic_yards) |>
  mutate(
    homes_powered = (weight*500)/30
  ) |>
  mutate(
    trash_wheel = "mr. trash wheel"
  )
```

Second, I will import and clean the Professor Trash Wheel dataset.

```{r prof_trash_wheel_df}
prof_trash_wheel_df =
  read_excel(
    "Data/202207 Trash Wheel Collection Data.xlsx",
    sheet = 2,
    range = "A2:L96",
    na = "") |>
  janitor::clean_names() |>
  rename(
    weight = weight_tons,
    volume = volume_cubic_yards) |>
  mutate(
    homes_powered = (weight*500)/30
  ) |>
  mutate(
    trash_wheel = "professor trash wheel"
  )
```

Third, I will import and clean the Professor Trash Wheel dataset.

```{r gwynnda_trash_wheel_df}
gwynnda_trash_wheel_df =
  read_excel(
    "Data/202207 Trash Wheel Collection Data.xlsx",
    sheet = 4,
    range = "A2:J108",
    na = "") |>
  janitor::clean_names() |>
  rename(
    weight = weight_tons,
    volume = volume_cubic_yards) |>
  mutate(
    homes_powered = (weight*500)/30
  ) |>
  mutate(
    trash_wheel = "gwynnda trash wheel"
  )
```

```{r merge}
merged_trash_wheel_df =
  bind_rows(mr_trash_wheel_df, prof_trash_wheel_df, gwynnda_trash_wheel_df)
```

# Problem 3

